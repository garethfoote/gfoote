@import './fonts.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    height: 100%;
  }
  
  body {
    @apply  flex flex-col min-h-screen;
    @apply font-sans;
    @apply text-black;
  }

   body > div {
    @apply grow;
  }
  
  h1 {
    @apply text-2xl sm:text-3xl;
    @apply font-serif;
  }

  h2 {
    @apply font-serif;
    @apply text-xl;
  }

  p {
    @apply text-base sm:text-md;
    @apply mb-8;
  }
  
  ul {
    @apply pl-5;
    @apply mb-8;
  }
  
  hr {
    @apply my-10;
    height: 6px;
    background: url("../assets/wiggle-grey.svg") repeat-x 0 0;
    border: 0;
  }

  .content h1 {
    @apply text-2xl mb-8;
  }
  
  .content h2 {
    @apply text-xl mb-8;
  }

  .content h3 {
    @apply text-lg font-serif mb-8;
  }

  .content h4 {
    @apply text-md font-serif mb-6;
  }

  .content ul li {
    @apply text-base leading-5 sm:text-md;
    @apply list-disc;
    @apply mb-2;
  }

  .content li a,
  .content p a {
    background-size: 1px 1em;
    box-shadow:
      inset 0 0px theme('colors.offwhite'),
      inset 0 -1px theme('colors.aquamarine.dark');
      text-shadow:
        1px 1px theme('colors.offwhite'),
        1px -1px theme('colors.offwhite'),
        -1px 1px theme('colors.offwhite'),
        -1px -1px theme('colors.offwhite');
      display: inline;
  }

  .content li a:hover,
  .content p a:hover {
    @apply text-aquamarine-dark;
    background-image: url("../assets/wiggle-green-dark.svg");
    background-repeat: repeat-x;
    background-position: 0 1.15em;
    background-size: 9px 5px;
    padding-bottom: 10px;
    box-shadow: none;
  }
  footer > div {
    @apply border-t-grey-light border-t;
    @apply pt-4;
  }

  footer p {
    @apply text-grey text-sm;
  }
}

@layer components {
  .btn-blue {
    @apply bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded;
  }

  .squiggle--hidden canvas {
    @apply opacity-0;
  }

  .squiggle {
    @apply border border-black;
    @apply p-1.5 mt-4;
  }
  .squiggle canvas {
    @apply transition-opacity ease-out duration-500;
    width: 75px !important;
    height: 75px !important;
  }

  .squiggle a {
    @apply block;
  }
  
  .site-nav {
    @apply font-serif;
    @apply text-lg;
    @apply mt-4;
  }

  .site-nav ul {
    @apply flex gap-x-3;
  }

  .site-nav ul li a:hover {
    box-shadow:
    inset 0 -2px theme('colors.offwhite'),
    inset 0 -4px theme('colors.black');
  }

  .homepage-hero {
    @apply mb-6;
  }
  
  .post-hero,
  .homepage-hero {
    @apply mt-14;
  }

  .post-hero {
    @apply mb-12;
  }
  
  .post-hero h1 {
    @apply text-2xl;
  }

  .post-hero__metadata time {
    @apply text-grey;
  }
  .post-hero__metadata time:after {
    content: "·";
    @apply inline;
    @apply pl-2 pr-1 text-xl text-black;
    @apply relative top-0.5;
    @apply leading-none;
  }

  .article-card {
    @apply mb-3 sm:mb-3;
    @apply flex items-end justify-between gap-x-1;

    background-image: linear-gradient(to right, theme('colors.grey.light') 2px, transparent 2px);
    background-position-x: 0;
    background-position-y: bottom -1px;
    background-repeat: repeat-x;
    background-size: 10px 2px;
  }

  @media screen(sm) {
    .article-card {
      background-position-y: bottom;
    }
  }
  
  .article-card__title {
    @apply text-grey-dark text-lg sm:text-xl leading-6 sm:leading-6;
    @apply grow z-10;
    @apply relative;
  }
  
  .article-card__title:hover {
    @apply text-black; 
  }

  .article-card__title > a {
    @apply inline-block w-full;
    @apply z-10 relative;
  }

  .article-card__title:after {
    content: "";
    @apply w-full h-full;
    @apply absolute inset-0;
    @apply opacity-0;
    transition: opacity 0.1s ease-in-out;
    background-image: linear-gradient(to right, theme('colors.black') 2px, transparent 2px);
    background-position-x: 0;
    background-position-y: bottom;
    background-repeat: repeat-x;
    background-size: 10px 2px;
  }

  .article-card__title:hover:after {
    @apply opacity-100;
  }

  .article-card__metadata {
    @apply mb-0 text-sm text-right;
    @apply max-h-5 sm:max-h-none;
    @apply relative bottom-0 sm:bottom-auto sm:top-0.5;
    @apply bg-offwhite;
    @apply whitespace-nowrap;
  }
  .article-card__metadata span {
    @apply bg-offwhite;
  }

  @media screen(sm) {
    .article-card__metadata {
      @apply text-base;
      @apply relative top-2;
      @apply whitespace-nowrap;
    }
  }

  .article-card__metadata time {
    @apply text-grey;
    @apply inline;
  }
  
  .article-card__metadata time:after {
    content: "·";
    @apply inline;
    @apply pl-0.5 pr-0 sm:pl-2 sm:pr-1 text-xl text-black;
    @apply relative top-0.5;
    @apply leading-none;
  }
  
  .note-cards {
    @apply grid;
  }
  .note-card {
    

  }


  .tag {
    @apply inline-block;
    @apply text-black bg-aquamarine-light rounded-sm;
    @apply py-0 px-0.5 sm:px-1;
  }

  a.tag:hover {
    text-decoration: underline;
  } 

}

@layer utilities {

  .main-col {
    @apply max-w-3xl 2xl:mx-auto 2xl:max-w-4xl;
    @apply pl-4 md:pl-8 lg:pl-16 pr-4;
  }
  
  .grey-underline,
  .black-underline {
    background-size: 1px 1em;
    text-shadow:
    1px 1px theme('colors.offwhite'),
    1px -1px theme('colors.offwhite'),
    -1px 1px theme('colors.offwhite'),
    -1px -1px theme('colors.offwhite');
    display: inline;
    @apply pb-px;
  }

  .black-underline {
    box-shadow:
      inset 0 -2px theme('colors.offwhite'),
      inset 0 -3px theme('colors.black');
  }
  .grey-underline {
    box-shadow:
      inset 0 -2px theme('colors.offwhite'),
      inset 0 -3px theme('colors.grey.DEFAULT');
  }

  .article-card__title:hover .black-underline,
  .black-underline:hover {
    box-shadow:
    inset 0 -2px theme('colors.offwhite'),
    inset 0 -4px theme('colors.black');
  }

  .article-card__title:hover .grey-underline,
  .grey-underline:hover {
    box-shadow:
    inset 0 -2px theme('colors.offwhite'),
    inset 0 -4px theme('colors.black');
  }

  .section-link {
    @apply text-grey;
  }

  .section-link:after {
    content: "";
    @apply inline-block;
    width: 0.5rem;
    height: 0.5rem;
    border-width: max(1px, 0.0625em) max(1px, 0.0625em) 0 0;
    transform: rotate(45deg);
  }

  .bg-offwhite-bottom {
    background: linear-gradient(to top, theme('colors.offwhite') 8px, transparent);
  }
}
